var app=angular.module("soundscape");app.controller("setController",["$scope","plStore","$sce","pinFactory",function(t,e,o,a){var r=e.fetchPl();a.setObjData(r);var n=a.fetchClicked(),c=a.fetchKing();c.forEach(function(e){e.id===n&&(t.targetArray=e.data)}),t.targetArray.forEach(function(e){var a=e.trackId,r=a.split(":");"https"!==r[0]&&(t.url="https://embed.spotify.com/?uri=spotify%3Atrack%3A"+e.trackId,e.trackId=o.trustAsResourceUrl(t.url))}),e.clearMaster()}]),app.controller("mapCtrl",["$scope","pinFactory",function(t,e){function o(){for(var t=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:18}),o=[["Grand Circus Park",42.3356937,-83.0498165],["Belle Isle Aquarium",42.3367071,-82.9863983],["Campus Martius Park",42.3316908,-83.0488209]],a=[],r=0;r<o.length;r++){var n=new google.maps.Marker({position:new google.maps.LatLng(o[r][1],o[r][2]),map:t,data:{id:o[r]}});a.push(n),google.maps.event.addListener(n,"click",function(t,o){return function(){console.log(t.data.id[0]);var o=t.data.id[0];e.setClicked(o)}}(n,r))}navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude};console.log(o),t.setCenter(o)},function(){handleLocationError(!0,infoWindow,t.getCenter())}):handleLocationError(!1,infoWindow,t.getCenter())}o()}]),app.directive("ssSoundscape",function(){return{restrict:"E",templateUrl:"templates/soundscape.html"}});